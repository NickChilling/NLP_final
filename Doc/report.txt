一、数据预处理
    对于分词和词性标注的任务，我们决定均使用序列标注的模型完成；分别编写了各自的sample_generator,负责从原始的数据集文件生成模型需要的输入和输出。分词的数据集处理起来较为简单，因为原始数据集文件的每一行只是空格分隔的字符串而已，不存在漏标、误标等令人头疼的情况。对于空格分割出的每一个词，根据BIO标注法，头一个字标注为“B”，后面的字标注为“I”即可。(在这里，我们视空格“$$_”为一个词）。然而，词性标注的数据集要难处理得多。除了空格“$$_”外，词性标注的每个空格分隔出的单元都应该是以最右边出现的“/”为分界，其左边为词，其右边为词性。然而，按这个思路操作得到的输入输出完全不对。于是，我将非空格单元中没有“/”、词性为空以及词性的长度大于三的单元及其所属行打印出来以寻找问题。经分析，造成问题的原因主要有以下四类：第一类是标注的人认为空格“$$_”分隔的多个英语复合词是一个词，把它们整体视为一个词进行标注；第二类是有一些本该被去掉的空格，如“0. $$_ 2”中的空格没有被去掉，而标注的人又将其视为一个整体标为“m”；第三类是URL，标注者直接放弃了对它的标注，从而导致URL中最后一个“/”后的内容被当作词性；最后一类是有的空格多了一个下划线。为了解决这些问题，我参考了学长给出的pos_evaluate文件，发现对于某一空格分隔出的单元没有给出标注的情况，该文件自动为其生成标签“-NONE-”。也就是说，我们的模型也不用给出它的标注。URL的情况也是如此，不用标注，与数据集保持一致即可。因此，对于这种被官方承认的无标注情况（包括空格），我决定将其标注为“O”，在模型的后处理中对其单独处理，将其干掉即可。有一个例外是“/”后的计量单位“Mg”等，这些没标注的会被误认成词性，鉴于这种都是首字母大写且正确的标注中不应该出现大写，我决定将其词性部分首字母大写的单元也标注为“O”。由于喂给词性标注模型的数据是分过词的，因此分词的信息也应当作为模型的输入，这一部分信息按照分词任务的标注方法与对应的单字一同喂给模型作为输入。（由于医学语料有许多特殊的医学名词，以词为单位进行标注会有很多OOV的词，我决定采用以单字为单位训练模型）。